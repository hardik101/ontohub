= repository_nav repository, :history

.row
  .col-md-6
    %p
      The version history of this repository is maintained by
      = link_to('the Git version control system', 'http://git-scm.com/') + '.'
      Below you have access to the history of changes commited to this
      repository as well as to any particular past version of it.

.row
  .col-md-12
    - if @oid
      = render partial: 'repositories/breadcrumbs'

      .history-pagination
        = paginate Kaminari.paginate_array(@commits, total_count: ((params[:page] || 1)*(@per_page+1))).page(params[:page]).per(@per_page), window: 0, outer_window: 0, exclude: [:first, :last, :gap, :per_page]

      - group_commits(@commits).each do |group| 
        = render partial: 'history_commit_group', locals: { group: group }

    - else
      %p This repository is empty.
